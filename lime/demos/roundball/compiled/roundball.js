var h=true,l=null,m=false;function aa(){return function(){}}var n,o=this;function p(){}
function ba(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function q(a){return a!==undefined}function t(a){return ba(a)=="array"}function ca(a){var b=ba(a);return b=="array"||b=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function da(a){return typeof a=="number"}function ea(a){return ba(a)=="function"}function fa(a){a=ba(a);return a=="object"||a=="array"||a=="function"}function x(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){var c=b||o;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ka(){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return ka.apply(l,arguments)}function la(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var ma=Date.now||function(){return+new Date};function y(a,b){function c(){}c.prototype=b.prototype;a.Pa=b.prototype;a.prototype=new c};var na,oa;function z(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}z.prototype.d=function(){return new z(this.x,this.y)};function pa(a,b){if(a==b)return h;if(!a||!b)return m;return a.x==b.x&&a.y==b.y};function qa(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}qa.prototype.d=function(){return new qa(this.top,this.right,this.bottom,this.left)};qa.prototype.contains=function(a){a=!this||!a?m:a instanceof qa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};
qa.prototype.expand=function(a,b,c,d){if(fa(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function A(a,b){this.width=a;this.height=b}n=A.prototype;n.d=function(){return new A(this.width,this.height)};function ra(a){return a.width*a.height}n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a){this.width*=a;this.height*=a;return this};qa.prototype.size=function(){return new A(this.right-this.left,this.bottom-this.top)};function sa(){}sa.prototype.u=p;function B(a){return a.yc?a.yc:a}function ta(a,b){ua(b,a);b.yc=B(a);return b};var C=new sa;C.za=aa();
C.pd=function(){var a=this.Ab,b=va(this),c=this.ma||1,d=c/a,e;if(this.a){if(this.kb&&this.kb.contains(b)&&(e=ra(this.kb.size())/ra(b.size()))&&e<1.6&&e>0.5)b=this.kb;else this.ae!=1&&this.f.length!=0&&b.expand(12,12,12,12);this.kb=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height){this.a.width=e.width;this.a.height=e.height;this.Ja=1}var g=this.s.d();if(this.j[D]){g=this.j[D];this.Ja=1}e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=E(this);this.Mb=(a.left-
b.left)*c;this.Nb=(a.top-b.top)*c;b=this.g().d();a=this.ca;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.k.d();if(this.j[F]){c=this.j[F];this.Ja=1}c.x*=d;c.y*=d;c.x-=b.width+this.Mb;c.y-=b.height+this.Nb;wa(this.a,(this.Mb+b.width)/e.width*100,(this.Nb+b.height)/e.height*100,h);if(!this.Q[F]&&!this.Q[D]&&!this.Q[xa]){d=-(this.rotation=this.aa%360);if(this.j[xa])d=this.j[xa];ya(this.a,(new G).translate(c.x,c.y).scale(g.x,g.y).rotate(d))}if(this.Ja){d=this.a.getContext("2d");c=this.ma||1;d.clearRect(0,
0,e.width,e.height);d.save();d.translate(this.Mb,this.Nb);d.scale(c,c);e=this.g();g=this.ca;d.translate(e.width*g.x,e.height*g.y);this.q.Mc.call(this,d);d.restore();this.Ja=0}}};C.update=aa();
C.Mc=function(a){if(this.v!=this.W){this.W&&H.dd.call(this);this.v&&H.uc.call(this)}if(this.ab==1&&this.t){I(this,0);H.jd.call(this)}else if(!(this.rb||this.B==0||this.ab==1)){if(this.B!=1)a.globalAlpha*=this.B;if(this.W&&this.W.dc){var b=this.W;a.save();a.save();a.translate(b.dc.x,b.dc.y);a.rotate(-b.Xc);this.eb&&a.rotate((this.rotation=this.aa%360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.ec,0);a.lineTo(b.ec,b.cc);a.lineTo(0,b.cc);a.closePath();a.restore();a.clip()}b=new z(0,0);this.q.u.call(this,
a);for(var c=0,d;d=this.f[c];c++){var e=za(d,b).d(),f=d.rotation=d.aa%360;a.save();a.translate(e.x,e.y);f!=0&&a.rotate(-f*Math.PI/180);this.q.Mc.call(d,a);a.restore()}if(this.B!=1)a.globalAlpha/=this.B;this.W&&a.restore()}};function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Da,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ea,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Fa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ga,"&quot;");return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a,b){for(var c=0,d=Aa(String(a)).split("."),e=Aa(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",s=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var v=s.exec(j)||["","",""],r=u.exec(k)||["","",""];if(v[0].length==0&&r[0].length==0)break;c=Ia(v[1].length==0?0:parseInt(v[1],10),r[1].length==0?0:parseInt(r[1],10))||Ia(v[2].length==0,r[2].length==0)||Ia(v[2],r[2])}while(c==0)}return c}
function Ia(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var J=Array.prototype,Ja=J.indexOf?function(a,b,c){return J.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(w(a)){if(!w(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=J.forEach?function(a,b,c){J.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},La=J.filter?function(a,b,c){return J.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],
f=0,g=w(a)?a.split(""):a,j=0;j<d;j++)if(j in g){var k=g[j];if(b.call(c,k,j,a))e[f++]=k}return e},Ma=J.map?function(a,b,c){return J.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=b.call(c,f[g],g,a);return e};function Na(a,b){Ja(a,b)>=0||a.push(b)}function Oa(a,b){var c=Ja(a,b);c>=0&&J.splice.call(a,c,1)}function Pa(){return J.concat.apply(J,arguments)}
function Qa(a){if(t(a))return Pa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Ra(a){if(t(a))return Pa(a);return Qa(a)}function Sa(a){return J.splice.apply(a,Ta(arguments,1))}function Ta(a,b,c){return arguments.length<=2?J.slice.call(a,b):J.slice.call(a,b,c)}function Ua(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f=fa(e)?"o"+x(e):(typeof e).charAt(0)+e;if(!Object.prototype.hasOwnProperty.call(b,f)){b[f]=h;a[c++]=e}}a.length=c};function K(a,b){this.x=Number(a)||0;this.y=Number(b)||0}y(K,z);K.prototype.d=function(){return new K(this.x,this.y)};K.prototype.scale=function(a){this.x*=a;this.y*=a;return this};var Va,Wa,Xa,Ya,Za,$a;function ab(){return o.navigator?o.navigator.userAgent:l}Za=Ya=Xa=Wa=Va=m;var bb;if(bb=ab()){var cb=o.navigator;Va=bb.indexOf("Opera")==0;Wa=!Va&&bb.indexOf("MSIE")!=-1;Ya=(Xa=!Va&&bb.indexOf("WebKit")!=-1)&&bb.indexOf("Mobile")!=-1;Za=!Va&&!Xa&&cb.product=="Gecko"}var db=Va,L=Wa,eb=Za,M=Xa,fb=Ya,gb,hb=o.navigator;gb=hb&&hb.platform||"";$a=gb.indexOf("Mac")!=-1;var ib=gb.indexOf("Win")!=-1,jb;
a:{var kb="",lb;if(db&&o.opera){var mb=o.opera.version;kb=typeof mb=="function"?mb():mb}else{if(eb)lb=/rv\:([^\);]+)(\)|;)/;else if(L)lb=/MSIE\s+([^\);]+)(\)|;)/;else if(M)lb=/WebKit\/(\S+)/;if(lb){var nb=lb.exec(ab());kb=nb?nb[1]:""}}if(L){var ob,pb=o.document;ob=pb?pb.documentMode:undefined;if(ob>parseFloat(kb)){jb=String(ob);break a}}jb=kb}var qb={};function sb(a){return qb[a]||(qb[a]=Ha(jb,a)>=0)};function tb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var ub=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function ua(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<ub.length;e++){b=ub[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var vb;!L||sb("9");var wb=L&&!sb("8");function N(){if(xb)yb[x(this)]=this}var xb=m,yb={};N.prototype.Lc=m;N.prototype.mb=function(){if(!this.Lc){this.Lc=h;this.Z();if(xb){var a=x(this);if(!yb.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete yb[a]}}};N.prototype.Z=aa();function zb(a,b){N.call(this);this.type=a;this.currentTarget=this.target=b}y(zb,N);n=zb.prototype;n.Z=function(){delete this.type;delete this.target;delete this.currentTarget};n.la=m;n.hb=h;n.stopPropagation=function(){this.la=h};n.preventDefault=function(){this.hb=m};var Ab=new Function("a","return a");function Bb(a,b){a&&this.sb(a,b)}y(Bb,zb);n=Bb.prototype;n.target=l;n.relatedTarget=l;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=m;n.altKey=m;n.shiftKey=m;n.metaKey=m;n.Hd=m;n.ia=l;
n.sb=function(a,b){var c=this.type=a.type;zb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(eb)try{Ab(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Hd=$a?a.metaKey:a.ctrlKey;this.state=a.state;this.ia=a;delete this.hb;delete this.la};n.stopPropagation=function(){Bb.Pa.stopPropagation.call(this);if(this.ia.stopPropagation)this.ia.stopPropagation();else this.ia.cancelBubble=h};
n.preventDefault=function(){Bb.Pa.preventDefault.call(this);var a=this.ia;if(a.preventDefault)a.preventDefault();else{a.returnValue=m;if(wb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};n.Z=function(){Bb.Pa.Z.call(this);this.relatedTarget=this.currentTarget=this.target=this.ia=l};function Cb(){}var Db=0;n=Cb.prototype;n.key=0;n.Ka=m;n.Bc=m;n.sb=function(a,b,c,d,e,f){if(ea(a))this.Vc=h;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Vc=m;else throw Error("Invalid listener argument");this.cb=a;this.cd=b;this.src=c;this.type=d;this.capture=!!e;this.Vb=f;this.Bc=m;this.key=++Db;this.Ka=m};n.handleEvent=function(a){if(this.Vc)return this.cb.call(this.Vb||this.src,a);return this.cb.handleEvent.call(this.cb,a)};var Eb;var Fb=(Eb="ScriptEngine"in o&&o.ScriptEngine()=="JScript")?o.ScriptEngineMajorVersion()+"."+o.ScriptEngineMinorVersion()+"."+o.ScriptEngineBuildVersion():"0";function O(a,b){N.call(this);this.Zc=b;this.sa=[];if(a>this.Zc)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.sa.push(this.da?this.da():{})}y(O,N);O.prototype.da=l;O.prototype.Kc=l;function Gb(a){if(a.sa.length)return a.sa.pop();return a.da?a.da():{}}function Hb(a,b){a.sa.length<a.Zc?a.sa.push(b):Ib(a,b)}function Ib(a,b){if(a.Kc)a.Kc(b);else if(fa(b))if(ea(b.mb))b.mb();else for(var c in b)delete b[c]}
O.prototype.Z=function(){O.Pa.Z.call(this);for(var a=this.sa;a.length;)Ib(this,a.pop());delete this.sa};var Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb;
(function(){function a(){return{Y:0,U:0}}function b(){return[]}function c(){function r(W){return g.call(r.src,r.key,W)}return r}function d(){return new Cb}function e(){return new Bb}var f=Eb&&!(Ha(Fb,"5.7")>=0),g;Ob=function(r){g=r};if(f){Jb=function(){return Gb(j)};Kb=function(r){Hb(j,r)};Lb=function(){return Gb(k)};Mb=function(r){Hb(k,r)};Nb=function(){return Gb(s)};Pb=function(){Hb(s,c())};Qb=function(){return Gb(u)};Rb=function(r){Hb(u,r)};Sb=function(){return Gb(v)};Tb=function(r){Hb(v,r)};var j=
new O(0,600);j.da=a;var k=new O(0,600);k.da=b;var s=new O(0,600);s.da=c;var u=new O(0,600);u.da=d;var v=new O(0,600);v.da=e}else{Jb=a;Kb=p;Lb=b;Mb=p;Nb=c;Pb=p;Qb=d;Rb=p;Sb=e;Tb=p}})();var Ub={},P={},Vb={},Wb={};
function Q(a,b,c,d,e){if(b)if(t(b)){for(var f=0;f<b.length;f++)Q(a,b[f],c,d,e);return l}else{d=!!d;var g=P;b in g||(g[b]=Jb());g=g[b];if(!(d in g)){g[d]=Jb();g.Y++}g=g[d];var j=x(a),k;g.U++;if(g[j]){k=g[j];for(f=0;f<k.length;f++){g=k[f];if(g.cb==c&&g.Vb==e){if(g.Ka)break;return k[f].key}}}else{k=g[j]=Lb();g.Y++}f=Nb();f.src=a;g=Qb();g.sb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Ub[c]=g;Vb[j]||(Vb[j]=Lb());Vb[j].push(g);if(a.addEventListener){if(a==o||!a.Qb)a.addEventListener(b,f,d)}else a.attachEvent(Xb(b),
f);return c}else throw Error("Invalid event type");}function Yb(a,b,c,d,e){if(t(b))for(var f=0;f<b.length;f++)Yb(a,b[f],c,d,e);else{d=!!d;a:{f=P;if(b in f){f=f[b];if(d in f){f=f[d];a=x(a);if(f[a]){a=f[a];break a}}}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].cb==c&&a[f].capture==d&&a[f].Vb==e){Zb(a[f].key);break}}}
function Zb(a){if(Ub[a]){var b=Ub[a];if(!b.Ka){var c=b.src,d=b.type,e=b.cd,f=b.capture;if(c.removeEventListener){if(c==o||!c.Qb)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Xb(d),e);c=x(c);e=P[d][f][c];if(Vb[c]){var g=Vb[c];Oa(g,b);g.length==0&&delete Vb[c]}b.Ka=h;e.ad=h;$b(d,f,c,e);delete Ub[a]}}}
function $b(a,b,c,d){if(!d.xb)if(d.ad){for(var e=0,f=0;e<d.length;e++)if(d[e].Ka){var g=d[e].cd;g.src=l;Pb(g);Rb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.ad=m;if(f==0){Mb(d);delete P[a][b][c];P[a][b].Y--;if(P[a][b].Y==0){Kb(P[a][b]);delete P[a][b];P[a].Y--}if(P[a].Y==0){Kb(P[a]);delete P[a]}}}}
function ac(a){var b,c=0,d=b==l;b=!!b;if(a==l)tb(Vb,function(g){for(var j=g.length-1;j>=0;j--){var k=g[j];if(d||b==k.capture){Zb(k.key);c++}}});else{a=x(a);if(Vb[a]){a=Vb[a];for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture){Zb(f.key);c++}}}}}function Xb(a){if(a in Wb)return Wb[a];return Wb[a]="on"+a}
function bc(a,b,c,d,e){var f=1;b=x(b);if(a[b]){a.U--;a=a[b];if(a.xb)a.xb++;else a.xb=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];if(k&&!k.Ka)f&=cc(k,e)!==m}}finally{a.xb--;$b(c,d,b,a)}}return Boolean(f)}function cc(a,b){var c=a.handleEvent(b);a.Bc&&Zb(a.key);return c}
Ob(function(a,b){if(!Ub[a])return h;var c=Ub[a],d=c.type,e=P;if(!(d in e))return h;e=e[d];var f,g;if(vb===undefined)vb=L&&!o.addEventListener;if(vb){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=o;f=j.shift();)if(k[f]!=l)k=k[f];else{j=l;break a}j=k}f=j;j=h in e;k=m in e;if(j){if(f.keyCode<0||f.returnValue!=undefined)return h;a:{var s=m;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(u){s=h}if(s||f.returnValue==undefined)f.returnValue=h}}s=Sb();s.sb(f,this);f=h;try{if(j){for(var v=Lb(),r=
s.currentTarget;r;r=r.parentNode)v.push(r);g=e[h];g.U=g.Y;for(var W=v.length-1;!s.la&&W>=0&&g.U;W--){s.currentTarget=v[W];f&=bc(g,v[W],d,h,s)}if(k){g=e[m];g.U=g.Y;for(W=0;!s.la&&W<v.length&&g.U;W++){s.currentTarget=v[W];f&=bc(g,v[W],d,m,s)}}}else f=cc(c,s)}finally{if(v){v.length=0;Mb(v)}s.mb();Tb(s)}return f}d=new Bb(b,this);try{f=cc(c,d)}finally{d.mb()}return f});function dc(){N.call(this)}y(dc,N);n=dc.prototype;n.Qb=h;n.hc=l;n.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Yb(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=P;if(b in c){if(w(a))a=new zb(a,this);else if(a instanceof zb)a.target=a.target||this;else{var d=a;a=new zb(b,this);ua(a,d)}d=1;var e;c=c[b];b=h in c;var f;if(b){e=[];for(f=this;f;f=f.hc)e.push(f);f=c[h];f.U=f.Y;for(var g=e.length-1;!a.la&&g>=0&&f.U;g--){a.currentTarget=e[g];d&=bc(f,e[g],a.type,h,a)&&a.hb!=m}}if(m in c){f=c[m];f.U=f.Y;if(b)for(g=0;!a.la&&g<e.length&&f.U;g++){a.currentTarget=e[g];d&=bc(f,e[g],a.type,m,a)&&a.hb!=m}else for(e=this;!a.la&&
e&&f.U;e=e.hc){a.currentTarget=e;d&=bc(f,e,a.type,m,a)&&a.hb!=m}}a=Boolean(d)}else a=h;return a};n.Z=function(){dc.Pa.Z.call(this);ac(this);this.hc=l};var ec,fc,gc=ab();ec=M&&fb&&/(ipod|iphone|ipad)/i.test(gc);fc=q(document.ontouchmove);var hc={},ic;function jc(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Ta(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ja(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};var kc=!L||sb("9");L&&sb("9");function lc(a){return a?new mc(nc(a)):ic||(ic=new mc)}
function oc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!M||pc(document)||sb("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)if(b==g.nodeName)d[e++]=g;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++){b=g.className;if(typeof b.split=="function"&&Ja(b.split(/\s+/),c)>=0)d[e++]=g}d.length=e;return d}else return a}
function qc(a,b){tb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in rc)a.setAttribute(rc[d],c);else a[d]=c})}var rc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function sc(a){var b=a.document;if(M&&!sb("500")&&!fb){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new A(a.innerWidth,b)}a=pc(b);if(db&&!sb("9.50"))a=m;a=a?b.documentElement:b.body;return new A(a.clientWidth,a.clientHeight)}function tc(){return uc(document,arguments)}
function uc(a,b){var c=b[0],d=b[1];if(!kc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var e={};ua(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(w(d))c.className=d;else t(d)?jc.apply(l,[c].concat(d)):qc(c,d);b.length>2&&vc(a,c,b,2);return c}
function vc(a,b,c,d){function e(g){if(g)b.appendChild(w(g)?a.createTextNode(g):g)}for(;d<c.length;d++){var f=c[d];ca(f)&&!(fa(f)&&f.nodeType>0)?Ka(wc(f)?Qa(f):f,e):e(f)}}function pc(a){return a.compatMode=="CSS1Compat"}function xc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function yc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function zc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Ac(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function nc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Bc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(nc(a).createTextNode(b))}}function wc(a){if(a&&typeof a.length=="number")if(fa(a))return typeof a.item=="function"||typeof a.item=="string";else if(ea(a))return typeof a.item=="function";return m}function mc(a){this.$=a||o.document||document}n=mc.prototype;
n.Gc=function(){return uc(this.$,arguments)};n.createElement=function(a){return this.$.createElement(a)};n.createTextNode=function(a){return this.$.createTextNode(a)};n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a){vc(nc(a),a,arguments,1)};n.contains=Ac;function Cc(a,b){var c;a:{c=nc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,l)){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}
function Dc(a){if(L)return a.offsetParent;var b=nc(a),c=Cc(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Cc(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return l}function Ec(a,b,c){if(b instanceof A){c=b.height;b=b.width}else if(c==undefined)throw Error("missing height argument");a.style.width=Fc(b);a.style.height=Fc(c)}
function Fc(a){if(typeof a=="number")a=Math.round(a)+"px";return a}
function Gc(a){var b=db&&!sb("10");if(Cc(a,"display")!="none")return b?new A(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new A(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new A(b,a)}
function Hc(a){var b=lc(void 0),c=l;if(L){c=b.$.createStyleSheet();Ic(c,a)}else{var d=oc(b.$,"head",void 0,void 0)[0];if(!d){c=oc(b.$,"body",void 0,void 0)[0];d=b.Gc("head");c.parentNode.insertBefore(d,c)}c=b.Gc("style");Ic(c,a);b.appendChild(d,c)}}function Ic(a,b){if(L)a.cssText=b;else a[M?"innerText":"innerHTML"]=b};var wa,ya,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,G={};
(function(){function a(e,f){if(!e.length)return e;for(var g=e.split("),"),j=0;j<g.length-1;j++)g[j]+=")";g=La(g,function(k){return k.indexOf(f)==-1});return g.join(",")}var b=M?"Webkit":eb?"Moz":db?"O":L?"ms":"",c=tc("div").style;Jc="-"+b.toLowerCase()+"-transform";Kc=function(e){return c[e]!==undefined?e:m};Lc=function(e){return Kc(e)?e:Kc(b+e)};Mc=function(){var e=Lc("BorderRadius");return function(f,g,j,k){k=k?"%":"px";j=q(j)?j:g;g=(t(g)?g.join(k+" "):g)+k+"/"+((t(j)?j.join(k+" "):j)+k);if(g!=
f.nd)f.style[e]=f.nd=g}}();G=function(e){this.Ib=[];this.Ia=1;this.Xd&&this.Eb(e)};G.prototype.scale=function(e,f){this.Ib.push("scale("+e+","+f+")");return this};G.prototype.rotate=function(e,f){e!=0&&this.Ib.push("rotate("+e+(f?f:"deg")+")");return this};G.prototype.translate=function(e,f,g){var j=1/this.Ia,k="translate";if(ec)k+="3d";k+="("+e*j+"px,"+f*j+"px";if(ec)k+=","+(g?g:0)*j+"px";this.Ib.push(k+")");return this};G.prototype.Eb=function(e){if(this.Ia!=1){var f=1/this.Ia;this.scale(f,f);this.Ia=
1}if(e!=1){this.scale(e,e);this.Ia=e}return this};G.prototype.toString=function(){this.Ia!=1&&this.Eb(1);return this.Ib.join(" ")};ya=function(){var e=Lc("Transform");return function(f,g){var j=g.toString();if(j!=f.Pd)f.style[e]=f.Pd=j}}();wa=function(){var e=Lc("TransformOrigin");return function(f,g,j,k){k=k?"%":"px";g=g+k+" "+j+k;if(g!=f.Qd)f.style[e]=f.Qd=g}}();var d=Lc("Transition");Nc=!!d;Oc=function(e,f,g,j){if(d){var k=a(e.style[d],f);if(k.length)k+=", ";k+=f+" "+g+"s cubic-bezier("+j[1]+","+
j[2]+","+j[3]+","+j[4]+")";e.style[d]=k}};Pc=function(e,f){if(d&&e)e.style[d]=a(e.style[d],f)};Qc=function(e,f,g){if(e.Rd!=f||e.wd!=g){e.Rd=f;e.wd=g;Ec(e,f,g)}}})();var H=new sa;H.za=function(){for(var a=0,b,c=0;b=this.f[c];c++){b=b instanceof R?b.D:b;if(b==this.a.childNodes[a])a++;else{Ac(this.M,b)&&zc(b);H.md(this.M,b,a++)}}};
H.qd=function(){var a=this.g(),b=this.Ab,c=this.k,d=this.ma||1;if(this.j[F])c=this.j[F];var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.s.d();if(this.j[D])g=this.j[D].d();e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);if(this instanceof S){e-=this.o[1]+this.o[3];f-=this.o[0]+this.o[2]}Qc(this.a,e,f);wa(this.a,this.ca.x*100,this.ca.y*100,h);e=this.ca.x*a.width*d;f=this.ca.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;if((e!=0||f!=0)&&this.a==this.M&&this.f.length)H.Dd.call(this);this.a!=this.M&&!this.Q[F]&&
!this.Q[D]&&!this.Q[xa]&&ya(this.M,(new G).translate(e,f));if(this.v!=this.W){this.W&&H.dd.call(this);this.v&&H.uc.call(this)}c=(new G).Eb(0.1);this.v&&this.v.Ad&&c.translate(-this.v.Bd-e,-this.v.Cd-f).rotate(this.v.Xc,"rad").translate(e,f).Eb(1);d=-(this.rotation=this.aa%360);if(this.j[xa])d=this.j[xa];c.translate(a,b).scale(g.x,g.y).rotate(d);!this.Q[F]&&!this.Q[D]&&!this.Q[xa]&&ya(this.a,c)};
H.update=function(){if(this.a){H.qd.call(this);if(!this.Q[Rc]){var a=this.B;if(q(this.j[Rc]))a=this.j[Rc];if(this.t&Sc){var b=this.a.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}if(this.t&Tc)this.a.style.display=this.rb?"none":"block";this.ab==1&&H.jd.call(this);this.q.u.call(this,this.a)}};
H.jd=function(){if(q(this.hd)){var a=this.hd,b=E(this),c=new z(b.left,b.top),d=new z(b.right,b.top),e=new z(b.right,b.bottom);b=a.getParent();c=Uc(this,c,b);d=Uc(this,d,b);e=Uc(this,e,b);b=Math.atan2(c.y-d.y,d.x-c.x);var f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,k=e.y-d.y;d=Math.cos(b);e=Math.sin(b);c.x=Math.round(c.x);c.y=Math.round(c.y);this.ec=Math.round(Math.sqrt(f*f+g*g));this.cc=Math.round(Math.sqrt(j*j+k*k));if(B(a.q)==H){f=a.D;Ec(f,this.ec,this.cc);ya(f,(new G).translate(c.x,c.y).rotate(-b,"rad"))}if(B(this.q)==
H)this.a.style.display="none";this.dc=Vc(a,c.d());this.Ad=h;this.Bd=d*c.x-e*c.y;this.Cd=d*c.y+e*c.x;this.Xc=b;I(a,Wc);a.update()}};H.md=function(a,b,c){c==undefined||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};H.Dd=function(){this.M=tc("div");for(var a=document.createDocumentFragment();child=this.a.firstChild;){this.a.removeChild(child);a.appendChild(child)}this.M.appendChild(a);this.a.appendChild(this.M)};
H.dd=function(){if(this.a!=this.D){if(B(this.q)==H){hc.remove(this.a);var a=this.D,b=a.parentNode;b&&b.replaceChild(this.a,a);this.D=this.a}this.W.ab=0;this.W=l}};H.uc=function(){if(B(this.q)==H){this.D=tc("div");this.D.style.cssText="position:absolute;overflow:hidden;";var a=this.a,b=a.parentNode;b&&b.replaceChild(this.D,a);this.D.appendChild(this.a)}this.v.ab=1;this.v.hd=this;this.W=this.v;I(this.v,Wc)};function Xc(a){this.X=Eb?[]:"";a!=l&&this.append.apply(this,arguments)}if(Eb){Xc.prototype.Ob=0;Xc.prototype.append=function(a,b){if(b==l)this.X[this.Ob++]=a;else{this.X.push.apply(this.X,arguments);this.Ob=this.X.length}return this}}else Xc.prototype.append=function(a,b){this.X+=a;if(b!=l)for(var c=1;c<arguments.length;c++)this.X+=arguments[c];return this};Xc.prototype.clear=function(){if(Eb)this.Ob=this.X.length=0;else this.X=""};
Xc.prototype.toString=function(){if(Eb){var a=this.X.join("");this.clear();a&&this.append(a);return a}else return this.X};L&&sb(8);(function(){var a=[[],[]],b=[[],[]];na=function(c,d,e){Na((e?b:a)[d||0],c)};oa=function(){for(var c,d=0;d<2;d++){for(;a[d].length;){c=a[d][0];c.update(d);c.t=0;c==a[d][0]&&a[d].shift()}a[d]=[]}b=[[],[]]}})();var Wc=1,Sc=16,Tc=32,Yc={},F=1,D=2,xa=4,Rc=5,Zc;var $c=new Xc;
$c.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden;}.",
"lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");Zc=$c.toString();Hc(Zc);function R(){N.call(this);this.f=[];this.h=l;this.Ra={};this.j={};this.Q={};this.sc={};this.N=m;this.nc=this.Rb=l;this.C={};this.Na(1);this.b(0,0);this.c(0,0);this.Ab=1;this.I(0.5,0.5);this.aa=0;this.j[xa]||I(this,Wc);this.xc=0;I(this,7);this.B=1;if(l!=this.v){this.v=l;I(this,4)}ad(this,B(this.wa[0]));I(this,64)}y(R,dc);n=R.prototype;n.wa=[H,C];
function ad(a,b){if(!a.q||B(a.q)!=b){for(var c=-1,d=0;d<a.wa.length;d++)if(B(a.wa[d])==b){c=d;break}if(c==-1)return;a.q=a.wa[d];I(a,64);for(d=0;c=a.f[d];d++)ad(c,b)}return a}n.eb=function(){return!(this.h&&B(this.h.q)==C)};function bd(a){if(a.eb()){a.eb()?cd(a):dd(a);return a}else if(a.h)return bd(a.h)}function ed(a){if(!a.h||a instanceof T)return[];var b=a.h.f.indexOf(a);a=ed(a.h);a.push(b);return a}
function fd(a,b){if(a==b)return 0;for(var c=ed(a),d=ed(b),e=0;;){if(c.length<=e)return-1;if(d.length<=e)return 1;if(c[e]==d[e])e++;else return c[e]>d[e]?1:-1}}n.Qb=m;function I(a,b,c,d){b&&!a.t&&na(a,c,d);a.t|=b;if(b==64)for(c=0;d=a.f[c];c++)d instanceof R&&I(d,64);if(!q(a.t)||!b)a.t=0;return a}n.Na=function(a){this.s=arguments.length==1&&da(a)?new K(a,a):arguments.length==2?new K(arguments[0],arguments[1]):a;if(this.j[D])return this;return I(this,2)};
n.b=function(a){this.k=arguments.length==2?new z(arguments[0],arguments[1]):a;if(this.j[F])return this;return I(this,Wc)};n.I=function(a){this.ca=arguments.length==2?new K(arguments[0],arguments[1]):a;return I(this,Wc)};function gd(a,b){a.rb=b;I(a,Tc);a.wc=0}n.g=function(){return this.O};
n.c=function(a){var b=this.O,c;c=arguments.length==2?new A(arguments[0],arguments[1]):a;var d=this.ca;if(b&&this.f.length)for(var e=0;e<this.f.length;e++){var f=this.f[e];if(f.ud){var g=f.xc;if(g!=0){var j=hd(f),k=b.width,s=j.left+d.x*b.width,u=j.right-j.left,v=k-j.right-d.x*b.width;if(g&1)k-=s;if(g&2)k-=u;if(g&4)k-=v;if(k!=b.width){k=(c.width-k)/(b.width-k);if(g&1)s*=k;if(g&2)u*=k}k=b.height;v=j.top+d.y*b.height;var r=j.bottom-j.top;j=k-j.bottom-d.y*b.height;if(g&8)k-=v;if(g&16)k-=r;if(g&32)k-=j;
if(k!=b.height){k=(c.height-k)/(b.height-k);if(g&8)v*=k;if(g&16)r*=k}g=f.ca;f.c(u,r);f.b(s+g.x*u-d.x*c.width,v+g.y*r-d.y*c.height)}}}this.O=c;return I(this,2)};function id(a){var b=q(a.ma)?a.ma:a.Ab;if(a.h&&a.h.ma)b=a.Ab*a.h.ma;if(b!=a.ma){a.ma=b;b=0;for(var c;c=a.f[b];b++)c instanceof R&&id(c);I(a,2)}}n.ud=function(){return this.xc};n.va=function(a){if(!this.N)return a;a=this.getParent().va(a);return Vc(this,a)};
function Vc(a,b){if(a.getParent()){b.x-=a.k.x;b.y-=a.k.y;b.x/=a.s.x;b.y/=a.s.y;if(a.aa!=0){var c=b.d(),d=a.aa*Math.PI/180,e=Math.cos(d);d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}}n.bc=function(a){if(!this.N)return a;return this.getParent().bc(za(this,a))};function za(a,b){if(!a.getParent())return b;b=b.d();if(a.aa!=0){var c=b.d(),d=-a.aa*Math.PI/180,e=Math.cos(d);d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}b.x*=a.s.x;b.y*=a.s.y;b.x+=a.k.x;b.y+=a.k.y;return b}
function Uc(a,b,c){if(!a.N)return b;return c.va(a.bc(b))}function jd(a,b){a.B=b;var c=a.rb;if(a.B==0&&!c){gd(a,h);a.wc=1}else a.B!=0&&c&&a.wc&&gd(a,m);if(q(a.j[Rc]))return a;I(a,Sc);return a}function cd(a){function b(){this.a=this.D=this.M=tc(c);this.Ya&&jc(this.a,this.Ya);this.t|=-1}var c=B(a.q)==C?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.D;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.D,d)}}else b.call(a)}
function dd(a){if(a.D){zc(a.D);delete a.a;delete a.D;delete a.M}}n.za=function(){this.t&=-65;this.eb()?cd(this):dd(this);if(this.h&&this.h.t&64)this.h.za();else if(this.eb()){for(var a=0,b;b=this.f[a];a++)b instanceof R&&b.za();this.q.za.call(this)}};
n.update=function(a){a=a||0;x(this);this.t&64&&this.za();if(a)this.q.pd.call(this);else{if(B(this.q)==C){var b=bd(this);b.Ja=1;if(b==this&&this.t==Wc)b.Ja=0;na(bd(this),1)}if(this.a){for(var c in this.sc){delete this.j[c];delete this.Q[c];d=c==Rc?"opacity":Jc;Pc(this.a,d);this.a!=this.M&&Pc(this.Td,d)}for(c in this.Ra){b=this.Ra[c];var d=c==Rc?"opacity":Jc;if(!b[3]){b[3]=1;if(c==F&&this.Id!=this.k){I(this,Wc,0,h);continue}if(c==D&&this.Ld!=this.s){I(this,2,0,h);continue}if(c==Rc&&this.Fd!=this.B){I(this,
Sc,0,h);continue}if(c==xa&&this.Kd!=this.aa){I(this,Yc.Sd,0,h);continue}}this.j[c]=b[0];Oc(this.a,d,b[1],b[2]);this.a!=this.M&&d==Jc&&Oc(this.M,d,b[1],b[2]);delete this.Ra[c]}this.Id=this.k;this.Ld=this.s;this.Fd=this.B;this.Kd=this.aa;this.sc={}}this.q.update.call(this);for(c in this.j)if(this.j[c])this.Q[c]=h}I(this,0,a)};n.getParent=function(){return this.h?this.h:l};
n.appendChild=function(a,b){a.h=this;b==undefined?this.f.push(a):Sa(this.f,b,0,a);B(this.q)!=H&&ad(a,B(this.q));if(a instanceof R){id(a);this.N&&kd(a)}return I(this,64)};n.removeChild=function(a){this.N&&ld(a);dd(a);a.h=l;this.f.splice(this.f.indexOf(a),1);return I(this,64)};n.addEventListener=function(a){if(!(fc&&a.substring(0,5)=="mouse")){q(this.C[a])||(this.C[a]=[0,0]);if(this.N&&this.C[a][0]==0){this.C[a][0]=1;this.R().pb.Bb(this,a)}this.C[a][1]++}};
n.removeEventListener=function(a){if(!(fc&&a.substring(0,5)=="mouse")){if(this.N&&this.C[a][1]==1){this.C[a][0]=0;this.R().pb.fb(this,a)}this.C[a][1]--;this.C[a][1]||delete this.C[a]}};n.R=function(){if(!this.N)return l;return this.Rb};n.qb=function(){if(!this.N)return l;return this.nc};function ld(a){for(var b=0;child=a.f[b];b++)child instanceof R&&ld(child);for(var c in a.C){a.C[c][0]=0;if(!a.R())debugger;a.R().pb.fb(a,c)}a.N=m;a.Rb=l;a.nc=l}
function kd(a){a.N=h;a.Rb=a.h.R();a.nc=a.h.qb();for(var b=0,c;c=a.f[b];b++)c instanceof R&&kd(c);for(var d in a.C){a.C[d][0]=1;a.R().pb.Bb(a,d)}}function E(a){var b=a.g();a=a.ca;return new qa(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function hd(a,b){var c=b||E(a),d=new z(c.left,c.top),e=new z(c.right,c.top),f=new z(c.left,c.bottom);c=new z(c.right,c.bottom);d=za(a,d);e=za(a,e);f=za(a,f);c=za(a,c);return new qa(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
function va(a){var b=E(a);if(b.left==b.right&&a.f.length)b=hd(a.f[0],va(a.f[0]));for(var c=0,d;d=a.f[c];c++)if(d.ab!=1){var e=b;d=hd(d,va(d));e.left=Math.min(e.left,d.left);e.top=Math.min(e.top,d.top);e.right=Math.max(e.right,d.right);e.bottom=Math.max(e.bottom,d.bottom)}return b}n.ga=function(a){this.sc[a]=1};n.ta=function(a){var b=this.va(a.La);if(E(this).contains(b)){a.position=b;return h}return m};function md(a,b){Na(b.qa,a);b.play()};function nd(){R.call(this);this.Ya="lime-layer"}y(nd,R);nd.prototype.ta=function(a){for(var b=0,c;c=this.f[b];b++)if(c.ta(a)){a.position=this.va(a.La);return h}return m};var U=new function(){this.P=[];this.Ba=m;this.Uc=0;this.Sb=1E3/30;this.$b=0};function od(a,b){this.A=this.$c=a;this.ac=q(b)?b:-1;this.ja=[]}od.prototype.oa=function(a){if(this.ja.length)if(this.A>a)this.A-=a;else{var b=this.$c+a-this.A;this.A=this.$c-(a-this.A);if(this.A<0)this.A=0;var c;for(a=this.ja.length;--a>=0;)(c=this.ja[a])&&c[0]&&ea(c[1])&&c[1].call(c[2],b);if(this.ac!=-1){this.ac--;this.ac==0&&U.jb(c[1],c[2])}}};U.P.push(new od(0));U.Vd=function(){return this.Sb};
U.Zd=function(a){this.Sb=a;if(this.Ba){this.Ic();this.tc()}};U.oc=function(a,b,c){c=q(c)?c:this.P[0];Na(c.ja,[1,a,b]);Na(this.P,c);this.Ba||this.tc()};U.jb=function(a,b){for(var c=this.P.length;--c>=0;){for(var d=this.P[c].ja,e,f=d.length;--f>=0;){e=d[f];e[1]==a&&e[2]==b&&Oa(d,e)}d.length==0&&c!=0&&Oa(this.P,d)}this.P.length==1&&this.P[0].ja.length==0&&this.Ic()};U.tc=function(){if(!this.Ba){this.$b=(new Date).getTime();this.Uc=setInterval(ka(this.oa,this),this.Sb);this.Ba=h}};
U.Ic=function(){if(this.Ba){clearInterval(this.Uc);this.Ba=m}};U.oa=function(){var a=ma(),b=a-this.$b;if(b<0)b=1;for(var c=this.P.length;--c>=0;)this.P[c].oa(b);this.$b=a};U.od=function(a,b){for(var c,d=this.P.length;--d>=0;){c=this.P[d];for(var e,f,g=c.ja.length;--g>=0;){e=c.ja[g];f=e[2];if(ea(f.R)){f=f.R();if(f==a)e[0]=b}}}};U.Ac=function(a,b,c){U.pc(a,b,c,1)};U.pc=function(a,b,c,d){this.oc(a,b,new od(c,d))};function V(){N.call(this);this.qa=[];this.Yb=[];this.Gb={};this.Wd=m;this.i=1;this.ob=pd;this.F=0}y(V,dc);n=V.prototype;n.scope="";n.w=function(a){this.i=a;return this};n.play=function(){this.bd=0;this.F=1;U.oc(this.oa,this);this.dispatchEvent({type:1})};n.stop=function(){if(this.F!=0){var a=this.Yb;if(qd(this)&&this.ga)for(var b=a.length;--b>=0;)this.ga(a[b]);this.Yb=[];this.Gb={};this.F=0;U.jb(this.oa,this);this.dispatchEvent({type:2})}};n.db=function(){return{}};
function rd(a,b){var c=x(b);if(!q(a.Gb[c])){a.$a(b);a.Gb[c]=a.db(b)}return a.Gb[c]}n.$a=function(a){sd.Bb(this,a);this.F=1;Na(this.Yb,a)};n.R=function(){return this.qa[0]?this.qa[0].R():l};n.oa=function(a){this.bd+=a;a=this.bd/(this.i*1E3);if(isNaN(a))a=1;if(a>1)a=1;var b=a;a=this.ob[0](a);if(isNaN(a))throw"Cubic equations with 3 roots not allowed atm.";if(b==1)a=1;for(b=this.qa.length;--b>=0;)this.update(a,this.qa[b]);a==1&&this.stop()};function qd(a){return a.i>0&&Nc&&a.Gd}
function td(a){a.Gd=q(void 0)?void 0:h;return a}n.reverse=function(){throw"Reverseform not supported for this animation";};var sd=new function(){this.e={}};sd.Bb=function(a,b){if(a.scope.length){var c=x(b);q(this.e[c])||(this.e[c]={});q(this.e[c][a.scope])&&this.e[c][a.scope].stop();this.e[c][a.scope]=a}};sd.be=function(a){a=x(a);if(q(this.e[a]))for(var b in this.e[a]){this.e[a][b].stop();delete this.e[a][b]}};
var pd=function(){var a=-1.26+3*0.58-1,b=1.26-6*0.58+3,c=3*0.58-3;return[function(d){d=2*Math.pow(b,3)-9*a*b*c+27*a*a*(1-d);d=Math.pow(0.5*(Math.sqrt(Math.pow(d,2)-4*Math.pow(b*b-3*a*c,3))+d),1/3);d=-b/(3*a)-d/(3*a)-(b*b-3*a*c)/(3*a*d);return 0*d*d*(1-d)+3*d*(1-d)*(1-d)+(1-d)*(1-d)*(1-d)},0.42,0,0.58,1]}();var ud={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function vd(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(wd.test(c)){b.Wb=xd(c);b.type="hex";return b}else{a:{var d=a.match(yd);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=zd(e.toString(16));a=zd(a.toString(16));
c=zd(c.toString(16));b.Wb="#"+e+a+c;b.type="rgb";return b}else if(ud)if(c=ud[a.toLowerCase()]){b.Wb=c;b.type="named";return b}}throw Error(a+" is not a valid color string");}var Ad=/#(.)(.)(.)/;function xd(a){if(!wd.test(a))throw Error("'"+a+"' is not a valid hex color");if(a.length==4)a=a.replace(Ad,"#$1$1$2$2$3$3");return a.toLowerCase()}function Bd(a,b,c){if(c<0)c+=1;else if(c>1)c-=1;if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
var wd=/^#(?:[0-9a-f]{3}){1,2}$/i,yd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function zd(a){return a.length==1?"0"+a:a};function Cd(){this.na=l}Cd.prototype.tb=aa();function Dd(a){if(a[0]instanceof Cd)return a[0];if(a.length>2)return new Ed(a);else if(w(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Ed(a[0]);return new Fd(a[0])}Cd.prototype.Db=p;Cd.prototype.rc=p;function Ed(a){this.na=l;this.Va=1;this.Ma(a)}y(Ed,Cd);n=Ed.prototype;n.id="color";n.tb=function(a){this.na=a;I(a,4)};function Gd(a,b){return Hd(a,2,b)}
function Hd(a,b,c){c=c||0.1;var d,e=l;if(da(a.p)&&da(a.Ga)&&da(a.Ca))e=[a.p,a.Ga,a.Ca];else if(w(a.ba)){var f=vd(a.ba);if(f.type!="named"){e=f.Wb;e=xd(e);e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}}d=e;if(!d)return a;e=d[0]/255;f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),j=Math.min(e,f,d),k=0,s=0,u=0.5*(g+j);if(g!=j){if(g==e)k=60*(f-d)/(g-j);else if(g==f)k=60*(d-e)/(g-j)+120;else if(g==d)k=60*(e-f)/(g-j)+240;s=0<u&&u<=0.5?(g-j)/(2*u):(g-j)/(2-2*u)}d=[Math.round(k+
360)%360,s,u];d[b]+=c;if(d[b]>1)d[b]=1;b=d[1];c=d[2];g=f=e=0;d=d[0]/360;if(b==0)e=f=g=c*255;else{j=g=0;j=c<0.5?c*(1+b):c+b-b*c;g=2*c-j;e=255*Bd(g,j,d+1/3);f=255*Bd(g,j,d);g=255*Bd(g,j,d-1/3)}d=[Math.round(e),Math.round(f),Math.round(g)];return a.Ma(d)}
n.Ma=function(a){var b=a;if(w(a)){this.ba=a;return this}if(arguments.length>2)b=arguments;if(b.length>=3){this.p=b[0];this.Ga=b[1];this.Ca=b[2]}if(b.length==4)this.Va=b[3];this.ba=this.Va==1?"rgb("+this.p+","+this.Ga+","+this.Ca+")":"rgba("+this.p+","+this.Ga+","+this.Ca+","+this.Va+")";return this};n.Db=function(a){a.style.background=this.ba};n.rc=function(a){a.fillStyle=this.ba};n.d=function(){var a=new Ed("");a.p=this.p;a.Ga=this.Ga;a.Ca=this.Ca;a.Va=this.Va;a.ba=this.ba;return a};function Fd(a){this.na=l;this.fa=a}y(Fd,Cd);Fd.prototype.id="image";Fd.prototype.tb=function(a){var b=this.fa;this.na=a;if(!(b instanceof X))if(w(b)){this.fa=new Image;Q(this.fa,"load",this.xd,m,this);this.fa.src=b}else{this.fa=b;var c=a.g();c.width==0&&c.height==0&&a.c(new A(b.width,b.height));I(a,4)}};Fd.prototype.xd=function(){var a=this.na.g();a.width==0&&a.height==0&&this.na.c(new A(this.fa.width,this.fa.height))};
Fd.prototype.Db=function(a){a.style.background="url("+this.fa.src+")";a.style[Lc("BackgroundSize")]="100%";a.style.backgroundRepeat="no-repeat";if(this.lc)a.style.imageRendering="optmizeQuality"};C.z={};H.z={};function X(){R.call(this);this.ce=this.Za=l}y(X,R);X.prototype.id="sprite";X.prototype.wa=[ta(H,H.z),ta(C,C.z)];X.prototype.m=function(){this.Za=Dd(arguments);this.Za.tb(this);return this};H.z.u=function(a){this.Za===l||this.Za.Db(a,this)};C.z.u=function(a){var b=this.g(),c=this.s,d=this.Za;if(d){var e=b.width*c.x;b=b.height*c.y;var f=E(this);if(d.id=="image")e&&b&&a.drawImage(d.fa,f.left*c.x,f.top*c.y,e,b);else{d.rc(a,this);a.fillRect(f.left*c.x,f.top*c.y,e,b)}}};function Id(){V.call(this)}y(Id,V);Id.prototype.update=p;Id.prototype.reverse=function(){return(new Id).w(this.i)};function Jd(a){V.call(this);var b=Ra(arguments);if(t(a))b=a;this.e=b.length>2?[b.shift(),new Jd(b)]:b;this.w(this.e[0].i+this.e[1].i)}y(Jd,V);Jd.prototype.$a=function(a){V.prototype.$a.call(this,a);this.w(this.e[0].i+this.e[1].i);this.Oa=this.e[0].i/this.i;this.ka=-1};Jd.prototype.stop=function(){this.ka!=-1&&this.e[this.ka].stop(this.qa);V.prototype.stop.apply(this,arguments)};
Jd.prototype.update=function(a,b){if(this.F!=0){rd(this,b);var c=0,d=0;x(b);if(a>=this.Oa){c=1;d=this.Oa==1?1:(a-this.Oa)/(1-this.Oa)}else{c=0;d=this.Oa!=0?a/this.Oa:1}if(this.ka==-1&&c==1){this.e[0].F=1;this.e[0].update(1,b);this.e[0].stop([b])}if(this.ka!=c){if(this.ka!=-1){this.e[this.ka].update(1,b);this.e[this.ka].stop([b])}this.e[c].F=1}this.e[c].update(d,b);this.ka=c}};Jd.prototype.reverse=function(){return new Jd(this.e[1].reverse(),this.e[0].reverse())};function Kd(a){V.call(this);var b=Ra(arguments);if(t(a))b=a;if(b.length>2){this.ua=b.shift();this.ya=new Kd(b)}else{this.ua=b[0];this.ya=b[1]}b=this.ua.i;var c=this.ya.i;this.w(Math.max(b,c));var d=new Id;if(b>c)this.ya=new Jd(this.ya,d.w(b-c));else if(b<c)this.ua=new Jd(this.ua,d.w(c-b))}y(Kd,V);Kd.prototype.$a=function(a){V.prototype.$a.call(this,a);this.ua.F=1;this.ya.F=1};Kd.prototype.update=function(a,b){if(this.F!=0){rd(this,b);this.ua.update(a,b);this.ya.update(a,b)}};
Kd.prototype.reverse=function(){return new Kd(this.ua.reverse(),this.ya.reverse())};C.Kb={};H.Kb={};H.Kb.u=function(a){var b=this.g();H.z.u.call(this,a);Mc(a,b.width*0.5,b.height*0.5)};C.Kb.u=function(a){this.g();var b=E(this),c=(b.right-b.left)*0.5;b=(b.bottom-b.top)*0.5;a.save();a.save();a.scale(c,b);a.beginPath();a.arc(0,0,1,0,2*Math.PI,m);a.closePath();a.restore();a.clip();C.z.u.call(this,a);a.restore()};var Ld,Md;function Nd(){X.call(this);this.Pb=new X;this.appendChild(this.Pb);this.Cb=m;this.index=-1;this.lc=h}y(Nd,X);var Od=["#F00","#F90","#0C0","#0CC","#00C","#96F"];Nd.prototype.select=function(){if(!this.Cb){var a=this.g().d();this.Tc=(new X).c(a).m("assets/selection.png");this.appendChild(this.Tc,0);this.Cb=h}};function Pd(a){if(a.Cb){a.removeChild(a.Tc);a.Cb=m}}Nd.prototype.update=function(){var a=this.g();this.Pb.c(a.width*0.75,a.height*0.75);R.prototype.update.call(this)};function Qd(a){V.call(this);this.B=a}y(Qd,V);Qd.prototype.scope="fade";Qd.prototype.db=function(a){var b=a.B;if(qd(this)){a.Ra[Rc]=[this.B,this.i,this.ob,0];I(a,Sc)}return{Nd:b,A:this.B-b}};Qd.prototype.update=function(a,b){if(this.F!=0){var c=rd(this,b);jd(b,c.Nd+c.A*a)}};Qd.prototype.ga=function(a){if(qd(this)){a.ga(Rc);I(a,Sc)}};function Rd(a){V.call(this);this.s=arguments.length==1&&da(a)?new K(a,a):arguments.length==2?new K(arguments[0],arguments[1]):a}y(Rd,V);Rd.prototype.scope="scale";Rd.prototype.db=function(a){var b=a.s,c=new K(this.s.x-b.x,this.s.y-b.y);if(qd(this)){a.Ra[D]=[new K(b.x+c.x,b.y+c.y),this.i,this.ob,0];I(a,2)}return{ed:b,A:c}};Rd.prototype.update=function(a,b){if(this.F!=0){var c=rd(this,b);b.Na(c.ed.x+c.A.x*a,c.ed.y+c.A.y*a)}};Rd.prototype.ga=function(a){if(qd(this)){a.ga(D);I(a,2)}};function Sd(a){V.call(this);this.Da=arguments.length==2?new z(arguments[0],arguments[1]):a}y(Sd,V);n=Sd.prototype;n.scope="move";function Td(a){a.Md=0.3;var b=a.Da,c=new z(0,0),d=b.x-c.x;b=b.y-c.y;a.w(a.Md*Math.sqrt(d*d+b*b)/100);return a}n.db=function(a){if(qd(this)){a.Ra[F]=[new z(a.k.x+this.Da.x,a.k.y+this.Da.y),this.i,this.ob,0];I(a,Wc)}return{gd:a.k}};n.update=function(a,b){if(this.F!=0){var c=rd(this,b);b.b(c.gd.x+this.Da.x*a,c.gd.y+this.Da.y*a)}};n.ga=function(a){if(qd(this)){a.ga(F);I(a,Wc)}};
n.reverse=function(){var a=this.Da.d();a.x*=-1;a.y*=-1;return(new Sd(a)).w(this.i)};function Ud(){this.gb={};this.Ed=0}function Vd(a,b,c){var d=c.x+"_"+c.y;q(a.gb[d])||(a.gb[d]=[]);a.gb[d].push([b,c]);a.Ed++}
Ud.prototype.play=function(a){var b,c,d=0,e;for(e in this.gb){var f=this.gb[e];b=td(Td(new Sd(f[0][1])));if(d<b.i){c=b;d=b.i}if(!a&&f.length>15){for(var g=ad(new nd,C),j=f[0][0].getParent().getParent(),k=0;k<f.length;k++){var s=f[k][0];s.getParent().removeChild(s);g.appendChild(f[k][0])}j.appendChild(g);Q(b,2,function(){this.getParent().removeChild(this);for(var u=this.k,v=this.f.length-1;v>=0;){var r=this.f[v];this.removeChild(r);ad(r,H);j.ub[r.G].appendChild(r);r.b(new z(u.x+r.k.x,u.y+r.k.y));v--}},
m,g);md(g,b)}else{for(k=0;k<f.length;k++)Na(b.qa,f[k][0]);b.play()}}return c};function Wd(a,b,c){X.call(this);this.Ub=c;this.Ua=690;this.rows=a;this.cols=b;this.H=Array(b);this.c(this.Ua,this.Ua).I(0,0);this.Yc=(new X).c(this.Ua,this.Ua).m(100,0,0,0.1).I(0,0);this.appendChild(this.Yc);a=this.Yc;if(a!=this.v){this.v=a;I(this,4)}this.K=Math.round(this.Ua/b);this.ub=[];for(a=0;a<b;a++){this.ub[a]=new nd;this.appendChild(this.ub[a])}Xd(this);U.Ac(this.gc,this,700);Q(this,["mousedown","touchstart"],this.kc)}y(Wd,X);
function Xd(a){for(var b=0;b<a.cols;b++){a.H[b]||(a.H[b]=[]);for(var c=0,d=a.H[b].length;d<a.rows;d++){c++;var e;e=Math.floor(Math.random()*Od.length);var f=new Nd;f.index=e;f.Pb.m("assets/ball_"+e+".png");e=f;e.p=d;e.G=b;e.b((b+0.5)*a.K,(-c+0.5)*a.K);e.c(a.K,a.K);a.H[b].push(e);a.ub[b].appendChild(e)}}}
Wd.prototype.gc=function(a){var b,c,d=new Ud;this.bb=1;for(var e=0;e<this.cols;e++)for(var f=0;f<this.rows;f++){b=this.H[e][f];b.p=f;b.G=e;c=new z((e+0.5)*this.K,this.g().height-(f+0.5)*this.K);pa(c,b.k)||Vd(d,b,new z(c.x-b.k.x,c.y-b.k.y))}if(a=d.play(a))Q(a,2,function(){this.bb=0;Yd(this)},m,this);else this.bb=0;return a||m};
function Yd(a){var b=Zd(a);if(b.length){$d(a.Ub);var c=td(new Kd(new Rd(0),(new Qd(0)).w(0.8)));Ua(b);for(var d=[],e=0;e<b.length;e++){Na(c.qa,b[e]);Oa(a.H[b[e].G],b[e]);Na(d,b[e].index)}ae(a.Ub,b.length*d.length);Q(c,2,function(){Ka(b,function(f){f.h.removeChild(f)},this);this.bb=0;this.gc()},m,a);Xd(a);a.bb=1;c.play()}else be(a)}
function Zd(a){var b,c,d,e,f=[];for(b=0;b<a.rows;b++){i=-1;e=[];for(c=0;c<a.cols;c++){d=a.H[c][b];d.index==i&&e.push(d);if(d.index!=i||c==a.cols-1){e.length>=3&&la(Sa,f,void 0,0).apply(l,e);e=[d]}i=d.index}}for(c=0;c<a.cols;c++){i=-1;e=[];for(b=0;b<a.rows;b++){d=a.H[c][b];d.index==i&&e.push(d);if(d.index!=i||b==a.rows-1){e.length>=3&&la(Sa,f,void 0,0).apply(l,e);e=[d]}i=d.index}}return f}
Wd.prototype.kc=function(a){if(!this.bb){var b=a.position,c=Math.floor(b.x/this.K);b=this.rows-Math.ceil(b.y/this.K);if(a.type=="mousedown"||a.type=="touchstart")a.Qa(["mouseup","touchend"],Wd.prototype.kc);a=this.H[c][b];if(a!=this.V){a.select();if(this.V)if(this.V.p==a.p&&Math.abs(this.V.G-a.G)==1||this.V.G==a.G&&Math.abs(this.V.p-a.p)==1){ce(this,this.V,a);delete this.V}else{Pd(this.V);this.V=a}else this.V=a}}};
function ce(a,b,c,d){de(a,b,c);var e=a.gc(h);if(!d&&!Zd(a).length)Q(e,2,function(){ce(this,b,c,h)},m,a);else{Pd(b);Pd(c)}delete a.V}function de(a,b,c){var d=b.G,e=b.p;b.G=c.G;b.p=c.p;c.G=d;c.p=e;a.H[b.G][b.p]=b;a.H[c.G][c.p]=c}Wd.prototype.Fb=function(){this.Ha&&md(this.Ha,new Jd((new Rd(1.3)).w(0.4),(new Rd(1)).w(0.4)))};
function be(a){for(var b,c=0,d=0;d<a.cols;d++)for(var e=a.rows-1;e>=0;e--)for(var f=a.H[d][e],g=0;g<2;g++){var j=d,k=e;if(g==0)j++;else k--;if(!(j>=a.cols||k<0)){j=a.H[j][k];de(a,f,j);k=Zd(a).length;if(k>c){c=k;b=f}de(a,f,j)}}a.Ha=b;b=a.Ub;a=a.Ha;b.Ha=a;q(a)?U.Ac(b.Fb,b,3500):ee(b)};C.Ta={};H.Ta={};function Y(){X.call(this);fe(this,5)}y(Y,X);Y.prototype.id="roundedrect";Y.prototype.wa=[ta(H.z,H.Ta),ta(C.z,C.Ta)];function fe(a,b){a.de=m;a.mc=b;return a}H.Ta.u=function(a){this.g();H.z.u.call(this,a);Mc(a,this.mc,this.mc)};
C.Ta.u=function(a){this.g();var b=E(this),c=this.mc,d=b.left,e=b.top,f=b.right-b.left;b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();C.z.u.call(this,a);a.restore()};function ge(a,b){nd.call(this);this.Ya="lime-button";if(q(a)){this.J=a;this.appendChild(this.J);this.ib=-1;he(this,ie)}q(b)&&je(this,b);var c=this;Q(this,["mousedown","touchstart","touchmove"],function(d){he(c,ke);d.Qa("mousemove",function(e){c.ta(e)?he(c,ke):he(c,ie)});d.Qa("touchmove",function(e){if(!c.ta(e)){he(c,ie);e.fb()}});d.Qa(["mouseup","touchend"],function(e){c.ta(e)&&c.dispatchEvent({type:le});he(this,ie)})})}y(ge,nd);var ie=0,ke=1,le="click";
function je(a,b){a.ea=b;a.appendChild(b);a.ib=-1;he(a,ie)}function he(a,b){if(b!=a.ib){a.ib==ie&&b==ke&&a.dispatchEvent({type:"down"});a.ib==ke&&b==ie&&a.dispatchEvent({type:"up"});var c=a.J;if(q(a.ea))if(ke==b)c=a.ea;else gd(a.ea,h);c!=a.J&&gd(a.J,h);gd(c,m);a.ib=b}};C.Sa={};H.Sa={};function S(a){X.call(this);this.n(a);me(this,ne);Z(this,14);$(this,"#000");oe(this,"center");pe(this,"400");a=[0,0,0,0];if(q(void 0))a[1]=a[3]=void 0;if(q(void 0))a[2]=void 0;if(q(void 0))a[3]=void 0;this.o=a;I(this,8);this.zd=m;this.Wc=1.15;this.m(255,255,255,0)}y(S,X);S.prototype.id="label";var ne="Arial";S.prototype.wa=[ta(H.z,H.Sa),ta(C.z,C.Sa)];
(function(){var a;S.prototype.measureText=function(){q(a)||(a=document.createElement("canvas").getContext("2d"));var b=qe(this);a.font=this.Fa+"px "+this.Tb;var c=a.measureText(this.ra);return new A(this.o[1]+this.o[3]+(M?c.width:c.width+1),this.o[0]+this.o[2]+b*this.Fa)}})();S.prototype.g=function(){var a=R.prototype.g.call(this);if(!a||!a.width&&!a.height)return this.measureText();return a};S.prototype.n=function(a){this.ra=a+"";I(this,4);return this};function pe(a,b){a.Rc=b;I(a,8);return a}
function me(a,b){a.Tb=b;I(a,8);return a}function Z(a,b){a.Fa=b;I(a,8);return a}function $(a,b){a.Qc=b;I(a,8);return a}function qe(a){return a.zd?a.Wc/a.Fa:a.Wc}function oe(a,b){a.vc=b;I(a,8);return a}H.Sa.u=function(a){H.z.u.call(this,a);var b=a.style;this.t&4&&Bc(a,this.ra);if(this.t&8){b.lineHeight=qe(this);b.padding=this.o.join("px ")+"px";b.color=this.Qc;b.fontFamily=this.Tb;b.fontSize=this.Fa+"px";b.fontWeight=this.Rc;b.textAlign=this.vc}};
C.Sa.u=function(a){C.z.u.call(this,a);if(this.t&4||!this.ld){var b=[],c=this.ra.length,d=this.ra.match(eb?/[\s\.]+/g:/[\s-\.]+/g),e=0;if(d)for(var f=0;f<d.length;f++){var g=d[f];g=this.ra.indexOf(g,e)+g.length;b.push(this.ra.substring(e,g));e=g}e!=c&&b.push(this.ra.substring(e,c));this.ld=b}c=E(this);a.save();d=this.vc;if(d=="left")a.translate(c.left+this.o[3],c.top+this.o[0]);else if(d=="right")a.translate(c.right-this.o[1],c.top+this.o[0]);else d=="center"&&a.translate((c.left+this.o[3]+c.right-
this.o[1])*0.5,c.top+this.o[0]);b=qe(this);a.fillStyle=this.Qc;a.font=this.Rc+" "+this.Fa+"px/"+b+" "+this.Tb;a.textAlign=d;a.textBaseline="top";if(this.t||!this.vb){c=-c.left-this.o[3]+c.right-this.o[1];d=[];e="";f=this.ld;for(var j=0;j<f.length;j++)if(e=="")e=f[j];else{g=a.measureText(Aa(e+f[j]));if(g.width>c){d.push(Aa(e));e=f[j]}else e+=f[j]}d.push(e);this.vb=d}if(this.vb){b*=this.Fa;b=M?Math.floor(b):Math.round(b);for(c=0;c<this.vb.length;c++)a.fillText(this.vb[c],0,b*c)}a.restore()};function re(){this.na=l;this.Wa=[];se(this)}y(re,Cd);n=re.prototype;n.id="lineargradient";n.tb=function(a){this.na=a;I(a,4)};function se(a){a.r=[0,0,0,1];return a}n.addColorStop=function(a){var b=Ra(arguments);b.shift();this.Wa.push([a,Dd(b)]);return this};n.rd=function(a){return M?"color-stop("+a[0]+", "+a[1].ba+")":a[1].ba+" "+a[0]*100*this.Jd+"%"};
n.Db=function(a,b){var c,d=E(b);c=d.right-d.left;var e=d.bottom-d.top;if(!M){var f=(this.r[2]-this.r[0])*c,g=(this.r[1]-this.r[3])*e,j=d.left+c*this.r[0],k=d.top+e*this.r[1],s=Math.atan2(g,f),u=-g/f;if(u==Infinity)u=Math.pow(10,10);d=s>0&&s<Math.PI/2?[d.right,d.top]:s>0?[d.left,d.top]:s>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/u*d[0]-k+u*j)/(u+1/u);u=u*d+k-j*u;d-=j;u-=k;this.Jd=Math.sqrt(f*f+g*g)/Math.sqrt(d*d+u*u)}f=Ma(this.Wa,this.rd,this);c=M?"-webkit-gradient(linear,"+this.r[0]*
100+"% "+this.r[1]*100+"%,"+this.r[2]*100+"% "+this.r[3]*100+"%,"+f.join(",")+")":"linear-gradient("+this.r[0]*100+"% "+this.r[1]*100+"% "+Math.atan2((this.r[1]-this.r[3])*e,(this.r[2]-this.r[0])*c)+"rad,"+f.join(",")+")";if(eb)c="-moz-"+c;a.style.background=c};
n.rc=function(a,b){var c=this.r,d=E(b),e=d.right-d.left,f=d.bottom-d.top;c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]);for(d=0;d<this.Wa.length;d++)c.addColorStop(this.Wa[d][0],this.Wa[d][1].ba);a.fillStyle=c};function te(a){ge.call(this,this.fc(),this.fc());this.borderWidth=2;this.n(a);this.Ma("#62be00")}y(te,ge);n=te.prototype;n.fc=function(){var a=new Y;a.T=new Y;a.label=Z($(me(oe(new S,"center"),'"Trebuchet MS"'),"#010101"),17);a.appendChild(a.T);a.T.appendChild(a.label);return a};
n.Ma=function(a){a=Dd(a);Ka([this.J,this.ea],function(b){var c;if(b==this.ea){c=a.d();c=Hd(c,1,-0.2)}else c=a;b.m(c);var d=se(new re);d.addColorStop(0,Gd(c.d(),0.13));d.addColorStop(0.5,Gd(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.T.m(d)},this);return this};n.n=function(a){this.J.label.n(a);this.ea.label.n(a);return this};
n.c=function(){if(this.J){this.J.c.apply(this.J,arguments);var a=this.J.g();Ka([this.J,this.ea],function(b){b.c(a);var c=a.d();c.width-=this.borderWidth;c.height-=this.borderWidth;b.T.c(c)},this)}return this};n.g=function(){return this.J.g()};function ue(a){te.call(this,a);this.borderWidth=4;this.Ma("#000")}y(ue,te);ue.prototype.fc=function(){var a=fe((new Y).m("#fff"),10);a.T=fe(new Y,10);a.label=Z($(me(oe(new S,"center"),'"Trebuchet MS"'),"#eef"),28);a.appendChild(a.T);a.T.appendChild(a.label);return a};ue.prototype.Ma=function(a){a=Dd(a);Ka([this.J,this.ea],function(b){var c=b==this.ea?Gd(a.d(),0.1):a,d=Gd(c.d(),0.3),e=se(new re);e.addColorStop(0,d);e.addColorStop(0.45,c);e.addColorStop(0.55,c);e.addColorStop(1,d);b.T.m(e)},this);return this};function T(){R.call(this);this.I(0,0);this.Ya="lime-scene";cd(this)}y(T,R);T.prototype.qb=function(){return this};function ve(){T.call(this);var a=(new ue("Back")).b(360,870).c(300,90);Q(a,"click",function(){we()});this.appendChild(a);a=fe(new Y,30).m("#fff").c(700,560).b(360,420);this.appendChild(a);var b=(new X).m("assets/helper1.jpg").b(-160,30).Na(0.9);a.appendChild(b);b=(new X).m("assets/helper2.jpg").b(160,30).Na(0.9);a.appendChild(b);b=oe(Z(new S,18).c(280,100).b(-160,-170),"left");b.n("Switch two neighbour balls to match up three, four or five same colored balls in a row.  Doing so will clear them and give you points.");
a.appendChild(b);b=oe(Z(new S,18).c(280,100).b(160,-170),"left");b.n("You get extra points for making more than one match at once.");a.appendChild(b);b=oe(Z(new S,18).c(550,40).b(0,220),"center");b.n("When there are no possible moves on the screen, the game ends.");a.appendChild(b)}y(ve,T);function xe(a){V.call(this);this.O=arguments.length==2?new A(arguments[0],arguments[1]):a}y(xe,V);xe.prototype.scope="size";xe.prototype.db=function(a){a=a.g();return{fd:a,A:new K(this.O.width-a.width,this.O.height-a.height)}};xe.prototype.update=function(a,b){if(this.F!=0){var c=rd(this,b);b.c(c.fd.width+c.A.x*a,c.fd.height+c.A.y*a)}};function ye(){Y.call(this);var a=320,b=50;fe(this.c(a,b),20).I(0,0.5);this.m((new re).addColorStop(0,21,55,98,0.6).addColorStop(1,30,87,151,0.4));a-=16;b-=16;b=fe(new Y,12).c(a,b).m("#F90").I(0,0.5).b(8,0);this.appendChild(b);b.m((new re).addColorStop(0,"#afcdef").addColorStop(0.49,"#55a1fc").addColorStop(0.5,"#3690f4").addColorStop(1,"#8dc9ff"));this.width=a;this.T=b}y(ye,Y);function ze(a,b){a.Yd=b;md(a.T,(new xe(a.width*b,a.T.g().height)).w(0.4))};function Ae(a){T.call(this);this.jc=0;var b=new nd;this.appendChild(b);this.L=(new Wd(a,a,this)).b(25,174);Be()&&ad(this.L,C);a=fe((new Y).c(690,690).I(0,0).b(17,166),30);for(var c=0;c<this.L.cols;c++)for(var d=0;d<this.L.rows;d++){var e=(new X).m("assets/shadow.png").I(0,0).c(this.L.K*0.94,this.L.K*0.94).b(11+c*this.L.K,11+d*this.L.K);e.lc=h;a.appendChild(e)}b.appendChild(a);b.appendChild(this.L);a=(new X).c(670,2).m("#295081").b(360,148);b.appendChild(a);a=(new X).c(670,2).m("#295081").b(360,885);
b.appendChild(a);a=pe(Z($(me(new S,"Trebuchet MS"),"#4f96ed"),24).b(30,22).n("Score:").I(0,0),700);b.appendChild(a);this.qc=pe(Z($(new S,"#fff"),92).n(0).b(30,40).I(0,0),700);b.appendChild(this.qc);this.zc=(new ue("Menu")).c(140,70).b(100,945);Q(this.zc,"click",function(){we()});this.appendChild(this.zc);this.lb=jd((new ue("Hint")).c(140,70).b(640,945),0);Q(this.lb,"click",function(){this.Ha&&this.L.Fb()},m,this);this.appendChild(this.lb);this.ha=this.yb=30;if(Ld==Ce){this.Od=oe(pe(Z($(me(new S,"Trebuchet MS"),
"#4f96ed"),24).b(680,22).n("Time left:").I(1,0),700).c(300,30),"right");b.appendChild(this.Od);this.Hb=(new ye).b(356,90);b.appendChild(this.Hb);U.pc(this.Hc,this,1E3)}U.pc(this.kd,this,100);De(this)}y(Ae,T);Ae.prototype.Hc=function(){this.ha--;this.ha<1&&ee(this);ze(this.Hb,this.ha/this.yb)};Ae.prototype.kd=function(){var a=parseInt(this.qc.ra,10);a<this.jc&&this.qc.n(a+1)};function $d(a){U.jb(a.Fb,a);md(a.lb,new Qd(0));delete a.Ha}Ae.prototype.Fb=function(){md(this.lb,new Qd(1))};
function ae(a,b){a.jc+=b;a.ha+=b;if(a.ha>a.yb)a.ha=a.yb;a.Hb&&ze(a.Hb,a.ha/a.yb)}
function ee(a){Yb(a.L,["mousedown","touchstart"],a.L.kc);U.jb(a.kd,a);U.jb(a.Hc,a);var b=fe((new Y).m(0,0,0,0.7).c(500,480).b(360,260).I(0.5,0),20);a.appendChild(b);var c=Z($((new S).n(a.ha<1?"No more time!":"No more moves!"),"#ddd"),40).b(0,70);b.appendChild(c);c=$(Z((new S).n("Your score:"),24),"#ccc").b(0,145);b.appendChild(c);c=pe($(Z((new S).n(a.jc),150),"#fff").b(0,240),700);b.appendChild(c);c=(new ue).n("TRY AGAIN").c(200,90).b(-110,400);b.appendChild(c);Q(c,le,function(){Ee(this.L.cols)},
m,a);c=(new ue).n("MAIN MENU").c(200,90).b(110,400);b.appendChild(c);Q(c,le,function(){we()})};function Fe(a){this.Xa=a;this.identifier=0}Fe.prototype.Qa=function(a,b,c){a=t(a)?a:[a];for(var d=0;d<a.length;d++)this.Xa.Qa(this,a[d],b);c&&this.event.stopPropagation()};Fe.prototype.fb=function(a){var b=q(a),c=t(a)?a:[a];if(a=this.Xa.pa[this.identifier]){var d=this;a=La(a,function(e){if(!q(d.xa)||e[0]==d.xa&&(!b||Ja(c,e[1])>=0)){Yb(e[0],e[1],e[2]);return m}return h});if(a.length)this.Xa.pa[this.identifier]=a;else delete this.Xa.pa[this.identifier]}};
Fe.prototype.d=function(){var a=new Fe(this.Xa);ua(a,this);return a};function Ge(a){this.Ea=a;this.S={};this.pa={}}Ge.prototype.Bb=function(a,b){if(q(this.S[b])){if(!(Ja(this.S[b],a)>=0)){this.S[b].push(a);this.S[b].sort(fd).reverse()}}else{this.S[b]=[a];Q(b.substring(0,5)=="touch"?document:b.substring(0,3)=="key"?window:this.Ea.a.parentNode,b,this,m,this)}};Ge.prototype.fb=function(a,b){if(q(this.S[b])){Oa(this.S[b],a);if(!this.S[b].length){Yb(this.Ea.a.parentNode,b,this,m,this);delete this.S[b]}}};
Ge.prototype.Qa=function(a,b,c){var d=a.identifier;q(this.pa[d])||(this.pa[d]=[]);this.pa[d].push([a.xa,b,c]);Q(a.xa,b,p)};
Ge.prototype.handleEvent=function(a){if(q(this.S[a.type])){for(var b=this.S[a.type].slice(),c=m,d=0,e=0;!e;){var f=new Fe(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.ia.changedTouches[d];f.La=new z(g.pageX,g.pageY);f.identifier=g.identifier;d++;if(d>=a.ia.changedTouches.length)e=1}else{f.La=new z(a.clientX,a.clientY);e=1}if(q(this.pa[f.identifier])){g=this.pa[f.identifier];for(var j=0;j<g.length;j++)if(g[j][1]==a.type||t(g[j][1])&&Ja(g[j][1],a.type)>=0){var k=g[j][0];
f.xa=k;f.position=k.va(f.La);g[j][2].call(k,f);c=h}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup"){delete f.xa;f.fb()}}else for(j=0;j<b.length;j++){k=b[j];if(!((this.Ea.l.length?this.Ea.l[this.Ea.l.length-1]:l)!=k.qb()&&k!=this.Ea))if(!k.rb){f.xa=k;if(k.ta(f)||a.type.substring(0,3)=="key"){f.xa=k;k.dispatchEvent(f);c=m;if(f.event.la)break}}}}c&&a.preventDefault()}};function He(){T.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}y(He,T);function Ie(a){N.call(this);this.Aa=a||window;this.wb=Q(this.Aa,"resize",this.vd,m,this);this.O=sc(this.Aa||window);if(M&&ib||db&&this.Aa.self!=this.Aa.top)this.Jb=window.setInterval(ka(this.Cc,this),Je)}y(Ie,dc);var Je=500;n=Ie.prototype;n.wb=l;n.Aa=l;n.O=l;n.Jb=l;n.g=function(){return this.O?this.O.d():l};n.Z=function(){Ie.Pa.Z.call(this);if(this.wb){Zb(this.wb);this.wb=l}if(this.Jb){window.clearInterval(this.Jb);this.Jb=l}this.O=this.Aa=l};n.vd=function(){this.Cc()};
n.Cc=function(){var a=sc(this.Aa||window),b;b=this.O;b=a==b?h:!a||!b?m:a.width==b.width&&a.height==b.height;if(!b){this.O=a;this.dispatchEvent("resize")}};function Ke(a,b){this.i=1;this.zb=a;this.Xb=b;this.Oc=p;this.Pc=m}Ke.prototype.w=function(a){this.i=a;return this};function Le(a,b){a.Oc=b;return a}Ke.prototype.start=function(){this.Xb.b(new z(0,0));this.Nc()};Ke.prototype.Nc=function(){if(!this.Pc){this.Oc();this.Pc=h}};function Me(a,b,c){R.call(this);this.N=h;this.I(0,0);this.l=[];this.Fc=[];this.Ya="lime-director";cd(this);a.appendChild(this.a);if(M&&fb){this.Ec=document.createElement("div");jc(this.Ec,"lime-cover-below");xc(this.Ec,this.a);this.Dc=document.createElement("div");jc(this.Dc,"lime-cover-above");yc(this.Dc,this.a)}if(a.style.position!="absolute")a.style.position="relative";a.style.overflow="hidden";if(a==document.body){Hc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";if(/android/i.test(navigator.userAgent))e+=",target-densityDpi=device-dpi";d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);window.scrollTo(0,0)}var f;a=Gc(a);this.c(new A(f=b||a.width||400,c||a.height*f/a.width||400));this.Jc&&zc(this.td);this.yd=this.Jc=m;U.od(this,1);if(this.yd){this.ic=new He;Ne(this,this.ic)}else if(this.ic){if(this.l.length){ld(this.l[this.l.length-
1]);this.l[this.l.length-1].h=l;zc(this.l[this.l.length-1].a);this.l.pop()}delete this.ic}b=new Ie;Q(b,"resize",this.Zb,m,this);Q(window,"orientationchange",this.Zb,m,this);U.oc(this.oa,this);this.pb=new Ge(this);Q(this,"touchmove",function(g){g.event.preventDefault()},m,this);Q(this,["mouseup","touchend","mouseout","touchcancel"],aa(),m);this.Zb()}y(Me,R);n=Me.prototype;n.R=function(){return this};n.qb=function(){return l};
n.oa=function(a){if(this.Jc){this.Sc++;this.Lb+=a;if(this.Lb>100){this.sd=1E3*this.Sc/this.Lb;Bc(this.td,this.sd.toFixed(2));this.Lb=this.Sc=0}}oa()};function Oe(a,b,c){b.c(a.g().d());c=c||Ke;var d=l;if(a.l.length)d=a.l[a.l.length-1];for(var e=[],f=a.l.length;--f>=0;){ld(a.l[f]);e.push(a.l[f].a);a.l[f].h=l}a.l.length=0;a.l.push(b);a.a.appendChild(b.a);b.h=a;kd(b);a=Le(new c(d,b),function(){for(var g=e.length;--g>=0;)zc(e[g])});q(void 0)&&a.w(void 0);a.start()}n.za=function(){this.Ud&=-65};
function Ne(a,b){a.l.push(b);a.a.appendChild(b.a);b.h=a;kd(b)}n.va=function(a){a=a.d();a.x-=this.nb.x+this.k.x;a.y-=this.nb.y+this.k.y;a.x/=this.s.x;a.y/=this.s.y;return a};n.bc=function(a){a=a.d();a.x*=this.s.x;a.y*=this.s.y;a.x+=this.nb.x+this.k.x;a.y+=this.nb.y+this.k.y;return a};n.update=function(){R.prototype.update.call(this);for(var a=this.Fc.length;--a>=0;)this.Fc[a].update(h)};
n.Zb=function(){var a=Gc(this.a.parentNode);if(this.a.parentNode==document.body){window.scrollTo(0,0);if(da(window.innerHeight))a.height=window.innerHeight}var b;b=this.g().d();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.Na(b.width/this.g().width);a.width/a.height<b.width/b.height?this.b(0,(a.height-b.height)/2):this.b((a.width-b.width)/2,0);var c=this.a.parentNode,d;b=nc(c);var e=Cc(c,"position"),f=eb&&b.getBoxObjectFor&&!c.getBoundingClientRect&&e=="absolute"&&
(d=b.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);a=new z(0,0);var g;d=b?b.nodeType==9?b:nc(b):document;if(g=L){g=lc(d);g=!pc(g.$)}g=g?d.body:d.documentElement;if(c!=g)if(c.getBoundingClientRect){d=c.getBoundingClientRect();if(L){c=c.ownerDocument;d.left-=c.documentElement.clientLeft+c.body.clientLeft;d.top-=c.documentElement.clientTop+c.body.clientTop}b=lc(b);b=!M&&pc(b.$)?b.$.documentElement:b.$.body;b=new z(b.scrollLeft,b.scrollTop);a.x=d.left+b.x;a.y=d.top+b.y}else if(b.getBoxObjectFor&&!f){d=
b.getBoxObjectFor(c);b=b.getBoxObjectFor(g);a.x=d.screenX-b.screenX;a.y=d.screenY-b.screenY}else{d=c;do{a.x+=d.offsetLeft;a.y+=d.offsetTop;if(d!=c){a.x+=d.clientLeft||0;a.y+=d.clientTop||0}if(M&&Cc(d,"position")=="fixed"){a.x+=b.body.scrollLeft;a.y+=b.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(db||M&&e=="absolute")a.y-=b.body.offsetTop;for(d=c;(d=Dc(d))&&d!=b.body&&d!=g;){a.x-=d.scrollLeft;if(!db||d.tagName!="TR")a.y-=d.scrollTop}}this.nb=a};
n.ta=function(a){if(a&&a.La)a.position=this.va(a.La);return h};function Pe(a,b){Ke.call(this,a,b)}y(Pe,Ke);Pe.prototype.start=function(){jd(this.Xb,0);var a=td((new Qd(0)).w(this.i));Q(a,2,function(){this.zb&&jd(this.zb,1)},m,this);this.zb&&md(this.zb,a);a=(new Qd(1)).w(this.i);md(this.Xb,a);Q(a,2,this.Nc,m,this)};var Ce=1;
function we(){var a=new T,b=(new nd).b(360,0);Be()&&ad(b,C);var c=(new X).m("assets/main_title.png").b(0,290);c.lc=h;b.appendChild(c);var d=(new nd).b(0,430);b.appendChild(d);var e=td(new Sd(-720,0)),f=Qe("Play Classic").b(0,200);Q(f,"click",function(){Ld=0;md(d,e)});d.appendChild(f);f=Qe("Play Timed").b(0,320);Q(f,"click",function(){Ld=Ce;md(d,e)});d.appendChild(f);f=Qe("Help").b(0,440);Q(f,"click",function(){var g=new ve;De(g);Oe(Md,g,Pe)});d.appendChild(f);c=(new nd).b(720,0);d.appendChild(c);f=
Z($((new S).n("Select board size:"),"#fff"),24).b(0,140);c.appendChild(f);f=Qe("6x6").b(0,200);Q(f,"click",function(){Ee(6)});c.appendChild(f);f=Qe("7x7").b(0,320);Q(f,"click",function(){Ee(7)});c.appendChild(f);f=Qe("8x8").b(0,440);Q(f,"click",function(){Ee(8)});c.appendChild(f);a.appendChild(b);De(a);Oe(Md,a,Pe)}function Qe(a){return(new ue(a)).c(300,90)}function Be(){return/Chrome\/9\.0\.597\.84/.test(ab())}function Ee(a){a=new Ae(a);Oe(Md,a,Pe)}
function De(a){var b=(new X).m("assets/lime.png"),c=Z($((new S).n("Built with"),"#fff"),24).b(290,960);b=(new ge(b)).Na(0.3).b(410,960);Q(b,"click",function(){window.location.href="http://www.limejs.com/"});a.appendChild(c);a.appendChild(b)}
function Re(){Md=new Me(document.body,720,1004);var a=document.createElement("meta");a.name="apple-mobile-web-app-capable";a.content="yes";document.getElementsByTagName("head").item(0).appendChild(a);a=document.createElement("meta");a.name="apple-mobile-web-app-status-bar-style";a.content="black";document.getElementsByTagName("head").item(0).appendChild(a);a=m;if(q(localStorage))a=localStorage.getItem("_lime_visited");if(/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.$d&&!a){alert("Please install this page as a web app by clicking Share + Add to home screen.");
q(localStorage)&&localStorage.setItem("_lime_visited",h)}we()}var Se="rb.start".split("."),Te=o;!(Se[0]in Te)&&Te.execScript&&Te.execScript("var "+Se[0]);for(var Ue;Se.length&&(Ue=Se.shift());)if(!Se.length&&q(Re))Te[Ue]=Re;else Te=Te[Ue]?Te[Ue]:Te[Ue]={};
